<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tableau de bord</title>
  <link rel="icon" href="<%= baseUrl %>/media/logoCircle.png">

    <style>
        html {
            background-color: #131b2d;
            z-index: -1;
        }
    </style>

    <script src="<%= baseUrl %>/javascript/tailwind.min.js"></script>

    <style type="text/tailwindcss">
        @layer base {
            body {
                font-family: 'Inter', sans-serif;
                min-height: 100vh;
            }
                
            ::-webkit-scrollbar {
                width: 6px;
            }
                
            ::-webkit-scrollbar-track {
                background: transparent;
            }
                
            ::-webkit-scrollbar-thumb {
                background: rgba(59, 130, 246, 0.3);
                border-radius: 3px;
            }
                
            ::-webkit-scrollbar-thumb:hover {
                background: rgba(59, 130, 246, 0.5);
            }
                
            * {
                scrollbar-width: thin;
                scrollbar-color: rgba(59, 130, 246, 0.3) transparent;
            }
                
            .trust-badge {
                background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            }
        }
    </style>
</head>

<body class="min-h-screen flex items-center justify-center p-10">

  <div class="fixed inset-0 -z-0 pointer-events-none">
    <div
      class="absolute top-0 left-0 w-32 h-32 bg-blue-500 rounded-full mix-blend-multiply filter blur-2xl opacity-10 animate-pulse">
    </div>
    <div
      class="absolute bottom-0 right-0 w-32 h-32 bg-violet-500 rounded-full mix-blend-multiply filter blur-2xl opacity-10 animate-pulse delay-1500">
    </div>
  </div>

  <div class="w-full max-w-2xl bg-[#1a1a1a] rounded-xl shadow-2xl p-8">

    <h1 class="text-3xl font-bold text-white mb-6">ğŸ‘¤ Tableau de bord</h1>

    <% const startsWithVowel=/^[aeiouyAEIOUY]/.test(user.username); const prefix=startsWithVowel ? "quâ€™" : "que " ; %>

    <p class="text-xl mb-8 text-gray-300">
      ConnectÃ© en tant <%= prefix %><span class="font-bold text-blue-400">
          <%= user.username %>
        </span>
    </p>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-8">
      <button onclick="window.location.href='<%= baseUrl %>/dashboard/logout'"
        class="py-3 px-4 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-lg transition-colors duration-200 flex items-center justify-center gap-2">
        ğŸ”’ Se dÃ©connecter
      </button>

      <button onclick="window.location.href='<%= baseUrl %>/dashboard/delete-account'"
        class="py-3 px-4 bg-red-700 hover:bg-red-800 text-white font-semibold rounded-lg transition-colors duration-200 flex items-center justify-center gap-2">
        ğŸ—‘ï¸ Supprimer mon compte
      </button>

      <button onclick="window.location.href='<%= baseUrl %>/dashboard/avis'"
        class="py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors duration-200 flex items-center justify-center gap-2">
        â­ Voir tous mes avis
      </button>

      <button onclick="window.location.href='<%= baseUrl %>/user/<%= user.id %>'"
        class="py-3 px-4 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg transition-colors duration-200 flex items-center justify-center gap-2">
        ğŸ“š Voir ma page publique
      </button>

      <% if (user.emailUpdateNote == false) { %>
        <button onclick="window.location.href='<%= baseUrl %>/dashboard/emailUpdateNote'"
          class="py-3 px-4 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg transition-colors duration-200 flex items-center justify-center gap-2">
          ğŸš€ Activer les notifications par email
        </button>
      <% } else { %>
        <button onclick="window.location.href='<%= baseUrl %>/dashboard/emailUpdateNote'"
          class="py-3 px-4 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-lg transition-colors duration-200 flex items-center justify-center gap-2">
          âš ï¸ DÃ©sactiver les notifications par email
      </button>
      <% } %>
    </div>

    <div class="space-y-4">
      <h2 class="text-xl font-semibold text-white mb-4">ğŸ”— Comptes externes</h2>

      <% if (!user.discord) { %>
        <a href="<%= baseUrl %>/api/Oauth2/discord/register/getUrl"
          class="block py-4 px-6 bg-[#3c3c3c] hover:bg-[#555] text-white rounded-lg transition-colors duration-200 text-center font-medium">
          Lier mon compte Ã  Discord
        </a>
      <% } else { %>
        <div
          class="py-4 px-6 bg-green-900/30 border border-green-500/30 text-green-400 rounded-lg text-center font-bold">
          âœ… Compte Discord dÃ©jÃ  liÃ©
        </div>
      <% } %>

      <% if (!user.github) { %>
        <a href="<%= baseUrl %>/api/Oauth2/github/register/getUrl"
          class="block py-4 px-6 bg-[#3c3c3c] hover:bg-[#555] text-white rounded-lg transition-colors duration-200 text-center font-medium">
          Lier mon compte Ã  GitHub
        </a>
      <% } else { %>
        <div
          class="py-4 px-6 bg-green-900/30 border border-green-500/30 text-green-400 rounded-lg text-center font-bold">
          âœ… Compte GitHub dÃ©jÃ  liÃ©
        </div>
      <% } %>
    </div>
  </div>
</body>

</html>